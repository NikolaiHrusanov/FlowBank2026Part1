<!DOCTYPE html>
<html lang="en" class="dark-theme">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transfer | NexusBank</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- App Container -->
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="index.html" class="brand">
                    <div class="brand-logo">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <span class="brand-name">Nexus<span class="brand-accent">Bank</span></span>
                </a>
            </div>

            <div class="sidebar-user">
                <div class="user-avatar">JD</div>
                <div class="user-info">
                    <div class="user-name">John Doe</div>
                    <div class="user-email">john@example.com</div>
                </div>
                <button class="theme-toggle" id="sidebarThemeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <a href="dashboard.html" class="nav-item">
                        <div class="nav-item-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <span>Dashboard</span>
                    </a>
                    <a href="accounts.html" class="nav-item">
                        <div class="nav-item-icon">
                            <i class="fas fa-wallet"></i>
                        </div>
                        <span>Accounts</span>
                    </a>
                    <a href="transfer.html" class="nav-item active">
                        <div class="nav-item-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <span>Transfers</span>
                        <span class="nav-item-badge">New</span>
                    </a>
                    <a href="transactions.html" class="nav-item">
                        <div class="nav-item-icon">
                            <i class="fas fa-history"></i>
                        </div>
                        <span>Transactions</span>
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <a href="index.html" class="btn btn-ghost btn-block">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Sign Out</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="main-header">
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="header-title">
                    <h1>Transfer Money</h1>
                    <p>Send money instantly to anyone, anywhere</p>
                </div>

                <div class="header-actions">
                    <button class="btn btn-secondary" id="viewScheduleBtn">
                        <i class="fas fa-calendar"></i>
                        <span>Scheduled</span>
                    </button>
                    <button class="btn btn-secondary" id="viewHistoryBtn">
                        <i class="fas fa-history"></i>
                        <span>History</span>
                    </button>
                </div>
            </header>

            <!-- Transfer Stepper -->
            <div class="transfer-stepper">
                <div class="step active">
                    <div class="step-number">1</div>
                    <div class="step-label">Recipient</div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-label">Amount</div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-label">Review</div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-label">Confirm</div>
                </div>
            </div>

            <!-- Transfer Form -->
            <div class="transfer-form-container">
                <!-- Step 1: Select Recipient -->
                <div class="transfer-step active" id="step1">
                    <div class="step-header">
                        <h2>Select Recipient</h2>
                        <p>Choose who you want to send money to</p>
                    </div>

                    <!-- Quick Recipients -->
                    <div class="section">
                        <div class="section-header">
                            <h3>Quick Recipients</h3>
                            <button class="btn btn-ghost btn-sm" id="addRecipientBtn">
                                <i class="fas fa-plus"></i>
                                <span>Add New</span>
                            </button>
                        </div>
                        
                        <div class="recipient-grid">
                            <div class="recipient-card selected">
                                <div class="recipient-avatar">JS</div>
                                <div class="recipient-info">
                                    <div class="recipient-name">Jane Smith</div>
                                    <div class="recipient-details">•••• 1234</div>
                                </div>
                                <div class="recipient-meta">
                                    <span class="badge">Frequent</span>
                                </div>
                            </div>
                            
                            <div class="recipient-card">
                                <div class="recipient-avatar">AD</div>
                                <div class="recipient-info">
                                    <div class="recipient-name">Alex Doe</div>
                                    <div class="recipient-details">alex@example.com</div>
                                </div>
                            </div>
                            
                            <div class="recipient-card">
                                <div class="recipient-avatar">AC</div>
                                <div class="recipient-info">
                                    <div class="recipient-name">ACME Corp</div>
                                    <div class="recipient-details">Vendor • Invoice #123</div>
                                </div>
                            </div>
                            
                            <div class="recipient-card">
                                <div class="recipient-avatar">
                                    <i class="fas fa-plus"></i>
                                </div>
                                <div class="recipient-info">
                                    <div class="recipient-name">New Recipient</div>
                                    <div class="recipient-details">Add bank or email</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Manual Transfer Option -->
                    <div class="section">
                        <div class="section-header">
                            <h3>Or Enter Manually</h3>
                        </div>
                        
                        <div class="manual-transfer">
                            <div class="form-group">
                                <label class="form-label">Transfer To</label>
                                <select class="form-select" id="transferType">
                                    <option value="bank">Bank Account</option>
                                    <option value="email">Email Address</option>
                                    <option value="mobile">Mobile Number</option>
                                    <option value="international">International</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Recipient Details</label>
                                <input type="text" class="form-control" id="recipientDetails" placeholder="Account number, email, or mobile">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Recipient Name</label>
                                <input type="text" class="form-control" id="recipientName" placeholder="Full name of recipient">
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-primary" id="nextStep1">
                            <span>Continue to Amount</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Enter Amount -->
                <div class="transfer-step" id="step2">
                    <div class="step-header">
                        <h2>Enter Amount</h2>
                        <p>How much would you like to send?</p>
                    </div>

                    <div class="amount-section">
                        <!-- From Account -->
                        <div class="form-group">
                            <label class="form-label">From Account</label>
                            <select class="form-select" id="fromAccount">
                                <option value="checking">Primary Checking (•••• 4589) - $18,245.75</option>
                                <option value="savings">High-Yield Savings (•••• 7892) - $24,344.00</option>
                            </select>
                        </div>

                        <!-- Amount Input -->
                        <div class="amount-input-container">
                            <div class="currency-display">USD</div>
                            <div class="amount-display" id="amountDisplay">0.00</div>
                            
                            <div class="amount-keypad">
                                <button class="keypad-btn" data-value="1">1</button>
                                <button class="keypad-btn" data-value="2">2</button>
                                <button class="keypad-btn" data-value="3">3</button>
                                <button class="keypad-btn" data-value="4">4</button>
                                <button class="keypad-btn" data-value="5">5</button>
                                <button class="keypad-btn" data-value="6">6</button>
                                <button class="keypad-btn" data-value="7">7</button>
                                <button class="keypad-btn" data-value="8">8</button>
                                <button class="keypad-btn" data-value="9">9</button>
                                <button class="keypad-btn" data-value=".">.</button>
                                <button class="keypad-btn" data-value="0">0</button>
                                <button class="keypad-btn" data-value="backspace">
                                    <i class="fas fa-backspace"></i>
                                </button>
                            </div>
                            
                            <div class="quick-amounts">
                                <button class="quick-amount" data-amount="10">$10</button>
                                <button class="quick-amount" data-amount="50">$50</button>
                                <button class="quick-amount" data-amount="100">$100</button>
                                <button class="quick-amount" data-amount="500">$500</button>
                                <button class="quick-amount" data-amount="1000">$1,000</button>
                            </div>
                        </div>

                        <!-- Additional Details -->
                        <div class="form-group">
                            <label class="form-label">Reference (Optional)</label>
                            <input type="text" class="form-control" id="transferReference" placeholder="e.g., Dinner, Rent, Gift">
                        </div>

                        <div class="form-group">
                            <label class="checkbox">
                                <input type="checkbox" id="scheduleTransfer">
                                <span class="checkbox-label">Schedule for later</span>
                            </label>
                            
                            <div class="schedule-options" id="scheduleOptions" style="display: none; margin-top: var(--space-md);">
                                <div class="form-group">
                                    <label class="form-label">Schedule Date</label>
                                    <input type="date" class="form-control" id="scheduleDate">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Frequency</label>
                                    <select class="form-select" id="scheduleFrequency">
                                        <option value="once">Once</option>
                                        <option value="weekly">Weekly</option>
                                        <option value="monthly">Monthly</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary" id="prevStep2">
                            <i class="fas fa-arrow-left"></i>
                            <span>Back</span>
                        </button>
                        <button class="btn btn-primary" id="nextStep2">
                            <span>Review Transfer</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Review -->
                <div class="transfer-step" id="step3">
                    <div class="step-header">
                        <h2>Review Transfer</h2>
                        <p>Please review all details before confirming</p>
                    </div>

                    <div class="review-summary">
                        <div class="summary-row">
                            <span class="summary-label">Recipient</span>
                            <span class="summary-value">
                                <strong>Jane Smith</strong><br>
                                <small>•••• 1234</small>
                            </span>
                        </div>
                        
                        <div class="summary-row">
                            <span class="summary-label">From Account</span>
                            <span class="summary-value">Primary Checking (•••• 4589)</span>
                        </div>
                        
                        <div class="summary-row">
                            <span class="summary-label">Amount</span>
                            <span class="summary-value" id="reviewAmount">$0.00</span>
                        </div>
                        
                        <div class="summary-row">
                            <span class="summary-label">Reference</span>
                            <span class="summary-value" id="reviewReference">-</span>
                        </div>
                        
                        <div class="summary-row">
                            <span class="summary-label">Transfer Date</span>
                            <span class="summary-value" id="reviewDate">Today • Instant</span>
                        </div>
                        
                        <div class="summary-row">
                            <span class="summary-label">Fee</span>
                            <span class="summary-value" style="color: var(--success);">Free</span>
                        </div>
                        
                        <div class="summary-row summary-total">
                            <span class="summary-label">Total Amount</span>
                            <span class="summary-value" id="reviewTotal">$0.00</span>
                        </div>
                    </div>

                    <div class="security-note">
                        <div class="security-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="security-info">
                            <h4>Secure Transfer</h4>
                            <p>This transfer is protected by bank-level encryption and fraud detection.</p>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary" id="prevStep3">
                            <i class="fas fa-arrow-left"></i>
                            <span>Back</span>
                        </button>
                        <button class="btn btn-primary" id="nextStep3">
                            <span>Confirm & Send</span>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 4: Confirmation -->
                <div class="transfer-step" id="step4">
                    <div class="confirmation-card">
                        <div class="confirmation-icon success">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        
                        <div class="confirmation-content">
                            <h2>Transfer Successful!</h2>
                            <p>Your money has been sent successfully.</p>
                            
                            <div class="confirmation-details">
                                <div class="detail">
                                    <span class="detail-label">Transaction ID</span>
                                    <span class="detail-value">TX-789456123</span>
                                </div>
                                <div class="detail">
                                    <span class="detail-label">Amount</span>
                                    <span class="detail-value" id="confirmationAmount">$0.00</span>
                                </div>
                                <div class="detail">
                                    <span class="detail-label">Recipient</span>
                                    <span class="detail-value">Jane Smith</span>
                                </div>
                                <div class="detail">
                                    <span class="detail-label">Estimated Delivery</span>
                                    <span class="detail-value">Instantly</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="confirmation-actions">
                            <button class="btn btn-primary" id="newTransferBtn">
                                <i class="fas fa-plus"></i>
                                <span>New Transfer</span>
                            </button>
                            <button class="btn btn-secondary" id="viewReceiptBtn">
                                <i class="fas fa-receipt"></i>
                                <span>View Receipt</span>
                            </button>
                            <a href="transactions.html" class="btn btn-ghost">
                                <i class="fas fa-history"></i>
                                <span>View History</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Transfers -->
            <section class="recent-transactions">
                <div class="transactions-header">
                    <h2>Recent Transfers</h2>
                    <a href="transactions.html" class="btn btn-ghost btn-sm">
                        <span>View All</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>

                <div class="transaction-list">
                    <div class="transaction-item">
                        <div class="transaction-icon">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="transaction-info">
                            <div class="transaction-title">To Jane Smith</div>
                            <div class="transaction-subtitle">Today • Instant Transfer</div>
                        </div>
                        <div class="transaction-amount negative">-$250.00</div>
                        <div class="transaction-status status-completed">Completed</div>
                    </div>

                    <div class="transaction-item">
                        <div class="transaction-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="transaction-info">
                            <div class="transaction-title">ACME Corp Payment</div>
                            <div class="transaction-subtitle">Yesterday • Invoice #123</div>
                        </div>
                        <div class="transaction-amount negative">-$1,200.00</div>
                        <div class="transaction-status status-completed">Completed</div>
                    </div>

                    <div class="transaction-item">
                        <div class="transaction-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="transaction-info">
                            <div class="transaction-title">To Savings Account</div>
                            <div class="transaction-subtitle">Oct 12 • Internal Transfer</div>
                        </div>
                        <div class="transaction-amount negative">-$500.00</div>
                        <div class="transaction-status status-completed">Completed</div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Recipient Modal -->
    <div class="modal" id="addRecipientModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add New Recipient</h2>
                <button class="modal-close" id="closeRecipientModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="recipientForm">
                <div class="form-group">
                    <label class="form-label">Recipient Type</label>
                    <select class="form-select" id="recipientType">
                        <option value="personal">Personal</option>
                        <option value="business">Business</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="recipientFullName" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="recipientEmail">
                </div>

                <div class="form-group">
                    <label class="form-label">Bank Account</label>
                    <input type="text" class="form-control" id="recipientAccount" placeholder="Account number or IBAN">
                </div>

                <div class="form-group">
                    <label class="form-label">Bank Name</label>
                    <input type="text" class="form-control" id="recipientBank">
                </div>

                <div class="form-group">
                    <label class="checkbox">
                        <input type="checkbox" id="saveRecipient">
                        <span class="checkbox-label">Save to quick recipients</span>
                    </label>
                </div>

                <button type="submit" class="btn btn-primary btn-block">
                    <span>Add Recipient</span>
                    <i class="fas fa-check"></i>
                </button>
            </form>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebarOverlay');
            
            mobileMenuBtn.addEventListener('click', () => {
                sidebar.classList.add('active');
                sidebarOverlay.classList.add('active');
            });
            
            sidebarOverlay.addEventListener('click', () => {
                sidebar.classList.remove('active');
                sidebarOverlay.classList.remove('active');
            });
            
            // Theme toggle
            const themeToggle = document.getElementById('sidebarThemeToggle');
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('dark-theme');
                const icon = themeToggle.querySelector('i');
                if (document.body.classList.contains('dark-theme')) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                }
                localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
            });
            
            // Check saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                const icon = themeToggle.querySelector('i');
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            }
            
            // Transfer Stepper Logic
            const steps = document.querySelectorAll('.transfer-step');
            const stepNumbers = document.querySelectorAll('.step-number');
            let currentStep = 1;
            let transferAmount = 0;
            
            // Initialize amount
            const amountDisplay = document.getElementById('amountDisplay');
            
            // Step navigation
            function showStep(step) {
                steps.forEach(s => s.classList.remove('active'));
                stepNumbers.forEach((num, index) => {
                    if (index + 1 < step) {
                        num.classList.remove('active');
                        num.classList.add('completed');
                        num.innerHTML = '<i class="fas fa-check"></i>';
                    } else if (index + 1 === step) {
                        num.classList.add('active');
                        num.classList.remove('completed');
                        num.textContent = index + 1;
                    } else {
                        num.classList.remove('active', 'completed');
                        num.textContent = index + 1;
                    }
                });
                
                document.getElementById(`step${step}`).classList.add('active');
                currentStep = step;
            }
            
            // Step 1: Select recipient
            document.getElementById('nextStep1').addEventListener('click', () => {
                const selectedRecipient = document.querySelector('.recipient-card.selected');
                if (!selectedRecipient && !document.getElementById('recipientName').value) {
                    alert('Please select or enter a recipient');
                    return;
                }
                showStep(2);
            });
            
            // Step 2: Amount input
            const keypadButtons = document.querySelectorAll('.keypad-btn');
            keypadButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const value = button.dataset.value;
                    
                    if (value === 'backspace') {
                        if (transferAmount.toString().length > 1) {
                            transferAmount = parseFloat(transferAmount.toString().slice(0, -1)) || 0;
                        } else {
                            transferAmount = 0;
                        }
                    } else if (value === '.') {
                        if (!transferAmount.toString().includes('.')) {
                            transferAmount = transferAmount.toString() + '.';
                        }
                    } else {
                        if (transferAmount.toString().includes('.')) {
                            if (transferAmount.toString().split('.')[1].length < 2) {
                                transferAmount = transferAmount.toString() + value;
                            }
                        } else {
                            transferAmount = parseFloat(transferAmount.toString() + value);
                        }
                    }
                    
                    updateAmountDisplay();
                });
            });
            
            // Quick amounts
            const quickAmounts = document.querySelectorAll('.quick-amount');
            quickAmounts.forEach(button => {
                button.addEventListener('click', () => {
                    transferAmount = parseFloat(button.dataset.amount);
                    updateAmountDisplay();
                });
            });
            
            function updateAmountDisplay() {
                amountDisplay.textContent = transferAmount.toFixed(2);
            }
            
            // Schedule transfer toggle
            const scheduleCheckbox = document.getElementById('scheduleTransfer');
            const scheduleOptions = document.getElementById('scheduleOptions');
            
            scheduleCheckbox.addEventListener('change', () => {
                scheduleOptions.style.display = scheduleCheckbox.checked ? 'block' : 'none';
            });
            
            // Step 2 navigation
            document.getElementById('prevStep2').addEventListener('click', () => showStep(1));
            document.getElementById('nextStep2').addEventListener('click', () => {
                if (transferAmount <= 0) {
                    alert('Please enter a valid amount');
                    return;
                }
                
                // Update review section
                document.getElementById('reviewAmount').textContent = `$${transferAmount.toFixed(2)}`;
                document.getElementById('reviewTotal').textContent = `$${transferAmount.toFixed(2)}`;
                
                const reference = document.getElementById('transferReference').value;
                document.getElementById('reviewReference').textContent = reference || '-';
                
                if (scheduleCheckbox.checked) {
                    const date = document.getElementById('scheduleDate').value;
                    document.getElementById('reviewDate').textContent = new Date(date).toLocaleDateString() + ' • Scheduled';
                } else {
                    document.getElementById('reviewDate').textContent = 'Today • Instant';
                }
                
                showStep(3);
            });
            
            // Step 3 navigation
            document.getElementById('prevStep3').addEventListener('click', () => showStep(2));
            document.getElementById('nextStep3').addEventListener('click', () => {
                // Update confirmation
                document.getElementById('confirmationAmount').textContent = `$${transferAmount.toFixed(2)}`;
                showStep(4);
                
                // Simulate transfer processing
                setTimeout(() => {
                    console.log('Transfer completed:', {
                        amount: transferAmount,
                        to: 'Jane Smith',
                        from: 'Primary Checking',
                        reference: document.getElementById('transferReference').value
                    });
                }, 1000);
            });
            
            // Step 4 actions
            document.getElementById('newTransferBtn').addEventListener('click', () => {
                // Reset form
                transferAmount = 0;
                updateAmountDisplay();
                document.getElementById('transferReference').value = '';
                scheduleCheckbox.checked = false;
                scheduleOptions.style.display = 'none';
                document.querySelectorAll('.recipient-card').forEach(card => card.classList.remove('selected'));
                document.querySelector('.recipient-card').classList.add('selected');
                
                showStep(1);
            });
            
            document.getElementById('viewReceiptBtn').addEventListener('click', () => {
                alert('Receipt would be generated here');
            });
            
            // Recipient selection
            document.querySelectorAll('.recipient-card').forEach(card => {
                card.addEventListener('click', () => {
                    if (!card.querySelector('.recipient-avatar i')) {
                        document.querySelectorAll('.recipient-card').forEach(c => c.classList.remove('selected'));
                        card.classList.add('selected');
                    } else {
                        // Add new recipient
                        document.getElementById('addRecipientModal').classList.add('active');
                    }
                });
            });
            
            // Add recipient modal
            const addRecipientBtn = document.getElementById('addRecipientBtn');
            const addRecipientModal = document.getElementById('addRecipientModal');
            const closeRecipientModal = document.getElementById('closeRecipientModal');
            
            addRecipientBtn.addEventListener('click', () => {
                addRecipientModal.classList.add('active');
            });
            
            closeRecipientModal.addEventListener('click', () => {
                addRecipientModal.classList.remove('active');
            });
            
            addRecipientModal.addEventListener('click', (e) => {
                if (e.target === addRecipientModal) {
                    addRecipientModal.classList.remove('active');
                }
            });
            
            // Recipient form
            document.getElementById('recipientForm').addEventListener('submit', (e) => {
                e.preventDefault();
                alert('Recipient added successfully!');
                addRecipientModal.classList.remove('active');
                document.getElementById('recipientForm').reset();
            });
            
            // View scheduled/history buttons
            document.getElementById('viewScheduleBtn').addEventListener('click', () => {
                alert('Scheduled transfers view would open here');
            });
            
            document.getElementById('viewHistoryBtn').addEventListener('click', () => {
                window.location.href = 'transactions.html';
            });
        });
    </script>
    
    <style>
        .transfer-form-container {
            background: var(--surface);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-2xl);
            margin-bottom: var(--space-2xl);
        }
        
        .transfer-step {
            display: none;
        }
        
        .transfer-step.active {
            display: block;
        }
        
        .step-header {
            margin-bottom: var(--space-2xl);
            text-align: center;
        }
        
        .step-header h2 {
            font-size: 2rem;
            margin-bottom: var(--space-sm);
        }
        
        .step-header p {
            color: var(--text-secondary);
        }
        
        .section {
            margin-bottom: var(--space-2xl);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }
        
        .section-header h3 {
            font-size: 1.125rem;
            font-weight: 600;
        }
        
        .manual-transfer {
            background: var(--surface-elevated);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
        }
        
        .step-actions {
            display: flex;
            justify-content: space-between;
            margin-top: var(--space-2xl);
            padding-top: var(--space-xl);
            border-top: 1px solid var(--border-light);
        }
        
        .amount-section {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .currency-display {
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: var(--space-xs);
        }
        
        .quick-amounts {
            display: flex;
            gap: var(--space-md);
            justify-content: center;
            margin-top: var(--space-lg);
        }
        
        .quick-amount {
            padding: var(--space-sm) var(--space-md);
            background: var(--surface-elevated);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .quick-amount:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .security-note {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--success);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-top: var(--space-xl);
        }
        
        .security-icon {
            width: 48px;
            height: 48px;
            background: var(--success);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }
        
        .confirmation-card {
            text-align: center;
            padding: var(--space-2xl);
        }
        
        .confirmation-icon {
            font-size: 4rem;
            margin-bottom: var(--space-xl);
        }
        
        .confirmation-icon.success {
            color: var(--success);
        }
        
        .confirmation-content h2 {
            font-size: 2rem;
            margin-bottom: var(--space-sm);
        }
        
        .confirmation-content p {
            color: var(--text-secondary);
            margin-bottom: var(--space-2xl);
        }
        
        .confirmation-details {
            background: var(--surface-elevated);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            margin-bottom: var(--space-2xl);
            text-align: left;
        }
        
        .confirmation-details .detail {
            display: flex;
            justify-content: space-between;
            padding: var(--space-sm) 0;
            border-bottom: 1px solid var(--border-light);
        }
        
        .confirmation-details .detail:last-child {
            border-bottom: none;
        }
        
        .detail-label {
            color: var(--text-secondary);
        }
        
        .detail-value {
            font-weight: 500;
        }
        
        .confirmation-actions {
            display: flex;
            gap: var(--space-md);
            justify-content: center;
        }
        
        .recipient-meta {
            margin-top: var(--space-sm);
        }
    </style>
</body>
</html>